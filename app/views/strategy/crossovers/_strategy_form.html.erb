<%= form_for @strategy, url: @path, method: @method, html: {class: 'strategy'} do |f| %>
  <header>
    <% if @strategy.errors.any? %>
      <ul class="errors">
        <% @strategy.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    <% end %>

    <div class="strategy">
      <div class="name">
        <%= f.label :name, 'What is the name of your crossover strategy?' %>
        <%= f.text_field :name %>
      </div>

      <div class="interval">
        <%= f.label :interval, "What is the interval of one tick?" %>
        <%= f.number_field :interval %>
      </div>
    </div>
  </header>

  <div class="indicators">
    <div class="buy parameter">
      Buy when
      <div class="group">
        <%= f.fields_for :indicators, @indicators[0] do |i| %>
          <%= render 'indicator_fields', f: i %>
        <% end %>
      </div>
      is less than
      <div class="group">
        <%= f.fields_for :indicators, @indicators[1] do |i| %>
          <%= render 'indicator_fields', f: i %>
        <% end %>
      </div>
    </div>
    <div class="sell parameter">
      Sell when
      <div class="group">
        <%= f.fields_for :indicators, @indicators[2] do |i| %>
          <%= render 'indicator_fields', f: i %>
        <% end %>
      </div>
      is less than
      <div class="group">
        <%= f.fields_for :indicators, @indicators[3] do |i| %>
          <%= render 'indicator_fields', f: i %>
        <% end %>
      </div>
    </div>
  </div>

  <div class="buttons">
    <%= f.button "Save Crossover Strategy", class: 'green' %>
  </div>
<% end %>
